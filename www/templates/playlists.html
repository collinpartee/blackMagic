<ion-view view-title="Quiz Page">
    <ion-content scroll="false">

<!--
        <div class="first-time-message" ng-show="hasStartedPlaying == 'no' ">
    <h1>Welcome to black magic</h1>
    <p>to start playing press the button below and test your knowledge of black people!!!</p>
    <div class="row" style="text-align:center">
        <button class="button start-playing-button" ng-click="startPlaying()">Press me to start</button>
    </div>
</div>
-->

        <div class="container">
            <div class="question-container" ng-hide="hasStartedPlaying == 'almost' ">
                <div style="display:table-row">
                    <div class="question">
                        <div ng-if="questionAsked == true">
                            <span>{{currQuestion.question}}</span>
                        </div>
                        <div ng-if="questionAsked == false">
                            <span>{{currQuestion.answer}}</span>
                        </div>
                    </div>
                </div>
                <div style="display: table-row" class="background-pane">
                    <div ng-if="questionAsked == false" class="row right-footer" ng-click="modal.show()">
                        <span>Click to Learn More</span>
                    </div>
                </div>
            </div>
            <div class="answer-choices-container" ng-hide="hasStartedPlaying == 'almost' ">
                <div ng-if="questionAsked == true">
                    <div class="row">
                        <button class="answer-choices" ng-click="chooseChoice1(); shakeMotionFunction('a')" ng-model="answerChoice1" ng-class="{'selected': choice1Selected}">
                            <span>{{currQuestion.choice1}}</span>
                        </button>
                        <button class="answer-choices" ng-click="chooseChoice2(); shakeMotionFunction('a')" ng-class="{'selected': choice2Selected}">
                            <span>{{currQuestion.choice2}}</span>
                        </button>
                    </div>
                    <div class="row">
                        <button class="answer-choices" ng-click="chooseChoice3(); shakeMotionFunction('a')" ng-class="{'selected': choice3Selected}">
                            <span>{{currQuestion.choice3}}</span>
                        </button>
                        <button class="answer-choices" ng-click="chooseChoice4(); shakeMotionFunction('a')" ng-class="{'selected': choice4Selected}">
                            <span>{{currQuestion.choice4}}</span>
                        </button>
                    </div>
                </div>

                <div ng-if="questionAsked == false">
                    <div class="row">
                        <span ng-show="youGotItRight">Points For You!</span>
                        <span ng-show="!youGotItRight">No Points For You</span>
                    </div>
                    <div class="row">
                        <span>Your Score: {{score}}</span>
                    </div>
                </div>

            </div>
            <div class="avatar-container" ng-if="hasFinishedPlaying == false">
                <div ng-if="questionAsked == false ">
                    <div class="avatar" ng-click="askQuestion()">
                        <div>
                            <img src="img/frame0.gif" ng-show="!gif">
                        </div>
                        <div>
                            <img src="img/Elmo_shakes_it.gif" ng-show="gif">
                        </div>
                        <div class="avatar-message">
                            <span ng-show="canShake">Shake me for the question</span>
                        </div>
                    </div>
                </div>
                <div ng-if="questionAsked == true">
                    <div class="avatar" ng-click="answerQuestion()">
                        <div>
                            <img src="img/frame0.gif" ng-show="!gif">
                        </div>
                        <div>
                            <img src="img/Elmo_shakes_it.gif" ng-show="gif">
                        </div>
                        <div class="avatar-message" ng-show="showAvatarAnswerMessage">
                            <span>Shake me for the answer</span>
                        </div>
                    </div>
                </div>
                {{score}}
            </div>
            <div ng-if="hasFinishedPlaying == true">
                <h1>Thank you for playing black magic</h1>
                <p>You scored {{score}}/{{quizLength}}</p>
                <div class="row" style="text-align:center">
                    <button class="button start-playing-button" ng-click="startOver()">Press me to start over</button>
                </div>
            </div>
        </div>
    </ion-content>
</ion-view>

<script id="templates/modal.html" type="text/ng-template">
    <ion-modal-view>
        <!--
        <ion-header-bar class="bar bar-header bar-positive">
          <h1 class="title">New Contact</h1>
          <button class="button button-clear button-primary" ng-click="modal.hide()">Cancel</button>
        </ion-header-bar>
-->
        <button class="button button-clear button-primary" ng-click="modal.hide()">Close</button>
        <ion-content class="padding has-header">
            <img class="decription-image" src="{{currQuestion.imageUrl}}" />
            <span>{{currQuestion.dateDescription}}</span>
            <h3 style="margin-top: 7px;">{{currQuestion.shortDescription}}</h3>

            <span>{{currQuestion.info}}</span>
            <p>{{currQuestion.longDescription}}</p>
            <div ng-if="currQuestion.quote.length > 1">
                <blockquote>
                    <p>{{currQuestion.quote}}</p>
                </blockquote>
            </div>
        </ion-content>
    </ion-modal-view>
</script>
